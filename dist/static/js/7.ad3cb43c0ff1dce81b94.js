webpackJsonp([7],{Cmrq:function(t,s){},"v5/9":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("Xxa5"),n=e.n(i),a=e("exGp"),o=e.n(a),l=e("mvHQ"),r=e.n(l),c=e("M4fF"),h=e.n(c),u={data:function(){return{lineLists:[],inputValue:"",cityCode:"610300",history:!1,historys:[],showNoInfo:!1}},directives:{focus:{inserted:function(t){t.focus()}}},methods:{handleClearHistory:function(){localStorage.removeItem("historys"),this.historys=[]},handleFocus:function(){},handleOnInput:function(){this.history=!1,this.searchLine()},handleCancel:function(){this.$router.go(-1)},handleHistoryList:function(t,s){window.location.href="#/lineDetails?lineId="+t+"&lineName="+s},handleLineList:function(t,s){var e,i={line_id:t,name:s};(e=localStorage.historys?JSON.parse(localStorage.historys):[]).length>9&&e.shift(),e.push(i),e=h.a.uniqWith(e,h.a.isEqual),localStorage.historys=r()(e),window.location.href="#/lineDetails?lineId="+t+"&lineName="+s},searchLine:function(){var t=this;return o()(n.a.mark(function s(){var e;return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,t.$parent.request({url:"line/search_by_line?line="+t.inputValue+"&city_code="+t.cityCode});case 2:(e=s.sent)&&(t.lineLists=e),0===t.lineLists.length?t.showNoInfo=!0:t.showNoInfo=!1;case 5:case"end":return s.stop()}},s,t)}))()}},created:function(){window.yl.call("setTitleBarText",{title:"附近站点"}),localStorage.historys?(this.history=!0,this.historys=JSON.parse(localStorage.historys)):this.history=!0;try{window.AlipayJSBridge&&(AlipayJSBridge.call("setTransparentTitle",{transparentTitle:"none"}),AlipayJSBridge.call("hideOptionMenu"))}catch(t){}},mounted:function(){var t=this;this.$nextTick(function(){t.$refs.input.focus()})}},d={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container"},[e("div",{staticClass:"search-bar"},[e("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],ref:"input",staticClass:"search-inp",attrs:{type:"text",name:"search",autofocus:"",maxlength:"10",placeholder:"搜线路"},domProps:{value:t.inputValue},on:{focus:t.handleFocus,input:[function(s){s.target.composing||(t.inputValue=s.target.value)},function(s){t.handleOnInput()}]}}),t._v(" "),e("div",{staticClass:"search-icon"}),t._v(" "),e("div",{staticClass:"search-close",on:{click:t.handleCancel}}),t._v(" "),e("div",{staticClass:"search-text",on:{click:t.handleCancel}},[t._v("取消")])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.history,expression:"history"}],staticClass:"history"},[e("div",{staticClass:"line"},[t._v("搜索历史")]),t._v(" "),t._l(t.historys,function(s,i){return e("div",{key:i,staticClass:"line-list",on:{click:function(e){t.handleHistoryList(s.line_id,s.name)}}},[e("div",{staticClass:"list-wrapper"},[e("span",{staticClass:"icon"}),t._v(" "),e("span",{staticClass:"text"},[t._v(t._s(s.name))])])])}),t._v(" "),e("div",{staticClass:"clear-history",on:{click:t.handleClearHistory}},[t._v("清除搜索历史")])],2),t._v(" "),t.lineLists.length>0?e("div",{staticClass:"line-lists"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.lineLists.length>0,expression:"lineLists.length>0"}],staticClass:"line"},[t._v("线路")]),t._v(" "),t._l(t.lineLists,function(s,i){return e("div",{key:i,staticClass:"line-list",attrs:{seed:"handleLineList"},on:{click:function(e){t.handleLineList(s.line_id,s.name)}}},[e("div",{staticClass:"list-wrapper"},[e("span",{staticClass:"icon"}),t._v(" "),e("span",{staticClass:"text"},[t._v(t._s(s.name))])])])})],2):t._e(),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showNoInfo,expression:"showNoInfo"}],staticClass:"no-infos"},[e("div",{staticClass:"no-info"}),t._v(" "),e("div",{staticClass:"no-info-text"},[t._v("无搜索结果")])])])},staticRenderFns:[]};var v=e("VU/8")(u,d,!1,function(t){e("Cmrq")},"data-v-39a1e41f",null);s.default=v.exports}});
//# sourceMappingURL=7.ad3cb43c0ff1dce81b94.js.map