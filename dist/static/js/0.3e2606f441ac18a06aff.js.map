{"version":3,"sources":["webpack:///./node_modules/babel-runtime/helpers/extends.js","webpack:///src/components/banner.vue","webpack:///./src/components/banner.vue?8769","webpack:///./src/components/banner.vue"],"names":["exports","__esModule","obj","_assign","__webpack_require__","_assign2","default","target","i","arguments","length","source","key","Object","prototype","hasOwnProperty","call","banner","name","props","url","type","String","cityCode","appPosition","pageCode","size","Number","position","data","list","mounted","this","fetch","methods","handleGo","window","location","href","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","res","currPosition","list1","wrap","_context","prev","next","axios_default","method","sent","status","code","forEach","element","curr_position","push","slice","t0","stop","components_banner","render","_vm","_h","$createElement","_c","_self","directives","rawName","value","expression","staticClass","_l","item","id","attrs","src","pic_url","seed","data-expo","on","click","$event","redi_url","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"oDAEAA,EAAAC,YAAA,EAEA,IAIAC,EAJAC,EAAcC,EAAQ,QAEtBC,GAEAH,EAFAC,IAEsCD,EAAAD,WAAAC,GAAuCI,QAAAJ,GAE7EF,EAAAM,QAAAD,EAAAC,SAAA,SAAAC,GACA,QAAAC,EAAA,EAAiBA,EAAAC,UAAAC,OAAsBF,IAAA,CACvC,IAAAG,EAAAF,UAAAD,GAEA,QAAAI,KAAAD,EACAE,OAAAC,UAAAC,eAAAC,KAAAL,EAAAC,KACAL,EAAAK,GAAAD,EAAAC,IAKA,OAAAL,yGCNAU,GACAC,KAAA,SACAC,OACAC,KACAC,KAAAC,OACAhB,QAAA,uBAEAiB,UACAF,KAAAC,OACAhB,QAAA,UAEAkB,aACAH,KAAAC,OACAhB,QAAA,KAEAmB,UACAJ,KAAAC,OACAhB,QAAA,aAEAoB,MACAL,KAAAM,OACArB,QAAA,GAEAsB,UACAP,KAAAC,OACAhB,QAAA,MAGAuB,KA5BA,WA6BA,OAEAC,UAGAC,QAlCA,WAmCAC,KAAAC,SAEAC,SACAC,SADA,SACAf,GACAA,IAAAgB,OAAAC,SAAAC,KAAAlB,IAEAa,MAJA,WAIA,IAAAM,EAAAP,KAAA,OAAAQ,IAAAC,EAAAC,EAAAC,KAAA,SAAAC,IAAA,IAAAxB,EAAAyB,EAAAC,EAAAhB,EAAAiB,EAAA,OAAAN,EAAAC,EAAAM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACA/B,EAAAmB,EAAAnB,IAAA,cAAAmB,EAAAhB,SAAA,iBAAAgB,EAAAf,YAAA,cAAAe,EAAAd,SADAwB,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAGAC,KACAC,OAAA,MACAjC,QALA,OAGAyB,EAHAI,EAAAK,KAQAR,EAAAP,EAAAX,SACAiB,GAAA,MAAAA,EAAAU,QAAA,MAAAV,EAAAhB,KAAA2B,OACA1B,EAAAe,EAAAhB,UACAkB,KACAjB,KAAApB,SACAoB,EAAA2B,QAAA,SAAAC,GACAA,EAAAC,gBAAAb,GACAC,EAAAa,KAAAF,KAGA5B,IAAApB,OAAA6B,EAAAb,KAAAqB,EAAAc,MAAA,EAAAtB,EAAAb,MAAAqB,EACAR,EAAAT,SAnBAmB,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAa,GAAAb,EAAA,kCAAAA,EAAAc,SAAAnB,EAAAL,IAAA,UAAAC,MCrDewB,GADEC,OAFjB,WAA0B,IAAAC,EAAAlC,KAAamC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,aAAarD,KAAA,OAAAsD,QAAA,SAAAC,MAAAP,EAAApC,MAAAoC,EAAApC,KAAApB,OAAAgE,WAAA,wBAAkGC,YAAA,cAA2BT,EAAAU,GAAAV,EAAA,cAAAW,EAAAC,GAAqC,OAAAT,EAAA,OAAiBzD,IAAAkE,EAAAH,YAAA,aAAAI,OAAuCC,IAAAH,EAAAI,QAAAC,KAAAL,EAAA3D,KAAAiE,YAAAN,EAAA3D,MAA0DkE,IAAKC,MAAA,SAAAC,GAAyBpB,EAAA/B,SAAA0C,EAAAU,gBAAgC,IAExbC,oBCCjB,IAcAC,EAdyBrF,EAAQ,OAcjCsF,CACEzE,EACA+C,GATF,EAVA,SAAA2B,GACEvF,EAAQ,SAaV,kBAEA,MAUewF,EAAA,EAAAH,EAAiB","file":"static/js/0.3e2606f441ac18a06aff.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nvar _assign = require(\"../core-js/object/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _assign2.default || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/extends.js\n// module id = Dd8w\n// module chunks = 0","<template>\n  <div class=\"banner-box\"\n       v-show=\"list && list.length\">\n    <img class=\"banner-img\"\n         v-for=\"(item,id) in list\"\n         :key=\"id\"\n         :src=\"item.pic_url\"\n         :seed=\"item.name\"\n         :data-expo=\"item.name\"\n         @click=\"handleGo(item.redi_url)\">\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n  name: 'banner',\n  props: {\n    url: {\n      type: String,\n      default: '/tcapp/ads/classify'\n    },\n    cityCode: {\n      type: String,\n      default: '610300'\n    },\n    appPosition: {\n      type: String,\n      default: '9'\n    },\n    pageCode: {\n      type: String,\n      default: '610300001'\n    },\n    size: {\n      type: Number,\n      default: 1\n    },\n    position: {\n      type: String,\n      default: '3' // （1顶部2中部3底部）\n    }\n  },\n  data () {\n    return {\n      // imageUrl: 'https://operation-citytsm.oss-cn-hangzhou.aliyuncs.com/zct/banner/banner1.jpg',\n      list: []\n    }\n  },\n  mounted () {\n    this.fetch()\n  },\n  methods: {\n    handleGo (url) {\n      url && (window.location.href = url)\n    },\n    async fetch () {\n      let url = this.url + `?city_code=${this.cityCode}&app_position=${this.appPosition}&page_code=${this.pageCode}`\n      try {\n        let res = await axios({\n          method: 'get',\n          url: url\n        })\n        console.log(res)\n        let currPosition = this.position\n        if (res && res.status === 200 && res.data.code === '0') {\n          let list = res.data.data\n          let list1 = []\n          if (list && list.length) {\n            list.forEach(element => {\n              if (element.curr_position === currPosition) {\n                list1.push(element)\n              }\n            })\n            list = list.length > this.size ? list1.slice(0, this.size) : list1\n            this.list = list\n          }\n        }\n      } catch (err) {\n        console.warn(err)\n        /* this.list = [\n          {\n            'name': '测试广告',\n            'curr_position': '2',\n            'id': '115',\n            'pic_url': 'http://sit-img-citytsm.oss-cn-hangzhou.aliyuncs.com/appicon_20180918144732229AqAOgZ.png',\n            'redi_url': 'http://www.baidu.com'\n          },\n          {\n            'name': 'banner测试',\n            'curr_position': '3',\n            'id': '118',\n            'pic_url': 'http://sit-img-citytsm.oss-cn-hangzhou.aliyuncs.com/appicon_20180920145327114g7mzeI.png',\n            'redi_url': 'https://www.baidu.com'\n          }\n        ] */\n      }\n      /*\n      {\n    \"data\": [\n        {\n            \"name\": \"测试广告\",\n            \"curr_position\": \"2\",\n            \"id\": \"115\",\n            \"pic_url\": \"http://sit-img-citytsm.oss-cn-hangzhou.aliyuncs.com/appicon_20180918144732229AqAOgZ.png\",\n            \"redi_url\": \"http://www.baidu.com\"\n        },\n        {\n            \"name\": \"banner测试\",\n            \"curr_position\": \"3\",\n            \"id\": \"118\",\n            \"pic_url\": \"http://sit-img-citytsm.oss-cn-hangzhou.aliyuncs.com/appicon_20180920145327114g7mzeI.png\",\n            \"redi_url\": \"https://www.baidu.com\"\n        }\n    ],\n    \"code\": \"0\",\n    \"message\": \"Success\"\n}\n       */\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.banner-box {\n  background: transparent;\n  margin-top: 3%;\n  .banner-img {\n    width: 100%;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/banner.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.list && _vm.list.length),expression:\"list && list.length\"}],staticClass:\"banner-box\"},_vm._l((_vm.list),function(item,id){return _c('img',{key:id,staticClass:\"banner-img\",attrs:{\"src\":item.pic_url,\"seed\":item.name,\"data-expo\":item.name},on:{\"click\":function($event){_vm.handleGo(item.redi_url)}}})}),0)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-386d0384\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/banner.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-386d0384\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./banner.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./banner.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./banner.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-386d0384\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./banner.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-386d0384\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/banner.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}